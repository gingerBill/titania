module out;
	import texts, titania;

	type
		Foo = record
			a, b: int;
		end;

	var
		w: texts.writer;

	proc write(ch: char);
	begin
		texts.write(w, ch);
	end;

	proc write_int(x, n: int);
		var
			i: int;
			a: [16]char;
	begin
		i := 0;
		if x < 0 then
			texts.write(w, "-");
			x := -x;
		end;

		repeat
			a[i] := chr(x % 10 + ord("0"));
			x := x / 10;
			inc(i);
		until x = 0;

		repeat
			texts.write(w, " ");
			dec(n);
		until n <= i;

		repeat
			dec(i);
			texts.write(w, a[i]);
		until i = 0
	end;

	proc write_ln;
	begin
		texts.write_ln(w);
		texts.append(titania.Log, w.buf);
	end;
begin
	texts.open_writer(w);
end
